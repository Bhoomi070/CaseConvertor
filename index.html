<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Case Converter Tool</title>
    <!-- Load Tailwind CSS for modern, responsive styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for aesthetic enhancements */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            width: 100%;
        }
        /* Style for the text areas and output fields */
        textarea, .output-field {
            resize: none;
            transition: all 0.2s ease-in-out;
        }
        .output-field {
            min-height: 5rem;
            word-wrap: break-word;
            white-space: pre-wrap; /* Preserve formatting for snake_case/title case */
        }
        /* Style for buttons */
        .case-button {
            transition: background-color 0.15s, transform 0.1s;
        }
        .case-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
    </style>
</head>
<body>
    <div class="container bg-white p-6 sm:p-8 rounded-2xl shadow-xl border border-gray-100">
        <h1 class="text-3xl font-extrabold text-gray-800 mb-2">Text Case Converter</h1>
        <p class="text-gray-500 mb-6">Paste your text below and instantly transform it into different formats.</p>

        <!-- Input Area -->
        <div class="mb-6">
            <label for="inputText" class="block text-sm font-medium text-gray-700 mb-2">Input Text</label>
            <textarea
                id="inputText"
                rows="6"
                placeholder="Paste your text here..."
                class="w-full p-4 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-gray-800 shadow-sm"
                oninput="updateOutputs()"
            ></textarea>
        </div>

        <!-- Conversion Buttons -->
        <div class="flex flex-wrap gap-3 mb-8">
            <button onclick="convertTo('uppercase')" class="case-button bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md flex-1 min-w-[120px]">
                UPPERCASE
            </button>
            <button onclick="convertTo('lowercase')" class="case-button bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md flex-1 min-w-[120px]">
                lowercase
            </button>
            <button onclick="convertTo('titlecase')" class="case-button bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md flex-1 min-w-[120px]">
                Title Case
            </button>
            <button onclick="convertTo('snakecase')" class="case-button bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md flex-1 min-w-[120px]">
                snake_case
            </button>
        </div>

        <!-- Output Sections -->
        <div id="outputArea" class="space-y-6">
            <!-- Output fields will be dynamically added/updated here -->
        </div>

        <!-- Notification Message Box -->
        <div id="notification" class="fixed bottom-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 pointer-events-none">
            Copied to clipboard!
        </div>
    </div>

    <script>
        const inputText = document.getElementById('inputText');
        const outputArea = document.getElementById('outputArea');
        const notification = document.getElementById('notification');

        // Define the conversion types and their display settings
        const conversionTypes = [
            { id: 'uppercase', label: 'UPPERCASE', func: (text) => text.toUpperCase(), example: 'HELLO WORLD' },
            { id: 'lowercase', label: 'lowercase', func: (text) => text.toLowerCase(), example: 'hello world' },
            { id: 'titlecase', label: 'Title Case', func: titleCase, example: 'Hello World' },
            { id: 'snakecase', label: 'snake_case', func: snakeCase, example: 'hello_world' }
        ];

        // --- Core Conversion Logic ---

        function titleCase(str) {
            if (!str) return '';
            return str.toLowerCase().split(' ').map(word => {
                return (word.charAt(0) || '').toUpperCase() + word.slice(1);
            }).join(' ');
        }

        function snakeCase(str) {
            if (!str) return '';
            // 1. Convert to lowercase.
            // 2. Replace non-alphanumeric characters (excluding spaces) with a space to separate words.
            // 3. Trim extra spaces and replace remaining spaces with underscores.
            return str
                .toLowerCase()
                .replace(/[^a-z0-9\s]/g, '') // Remove punctuation/symbols (keep spaces)
                .trim()
                .replace(/\s+/g, '_'); // Replace one or more spaces with a single underscore
        }

        // --- UI/Interaction Logic ---

        // Function to create an output block HTML structure
        function createOutputBlock(id, label, content) {
            return `
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 shadow-inner flex flex-col sm:flex-row items-start sm:items-center justify-between">
                    <div class="flex-1 min-w-0 mb-3 sm:mb-0 sm:pr-4">
                        <label class="block text-xs font-bold text-gray-700 uppercase tracking-wider mb-1">${label}</label>
                        <div id="output-${id}" class="output-field text-sm text-gray-700 w-full">${content || '...'}</div>
                    </div>
                    <button onclick="copyToClipboard('output-${id}')" class="bg-blue-500 hover:bg-blue-600 text-white text-xs font-bold py-1.5 px-3 rounded-lg transition duration-150 ease-in-out case-button shadow-md flex-shrink-0">
                        Copy
                    </button>
                </div>
            `;
        }

        // Initialize the output area with empty blocks
        function initializeOutputArea() {
            outputArea.innerHTML = conversionTypes.map(type =>
                createOutputBlock(type.id, type.label, type.example)
            ).join('');
        }

        // Update all output fields when input changes
        function updateOutputs() {
            const text = inputText.value.trim();
            
            conversionTypes.forEach(type => {
                const outputElement = document.getElementById(`output-${type.id}`);
                if (outputElement) {
                    // Apply conversion or show placeholder if text is empty
                    const convertedText = text ? type.func(text) : type.example;
                    outputElement.textContent = convertedText;
                }
            });
        }

        // Function linked to the primary conversion buttons
        function convertTo(typeId) {
            const text = inputText.value.trim();
            if (!text) {
                // Flash an alert-like notification in the UI (no alert() allowed)
                showNotification("Please paste some text first!", 'bg-yellow-500');
                return;
            }

            const type = conversionTypes.find(t => t.id === typeId);
            if (type) {
                const convertedText = type.func(text);
                
                // 1. Update the main input text area (as requested by the user flow)
                inputText.value = convertedText;
                
                // 2. Update all output fields based on the new input
                updateOutputs();
                
                // 3. Immediately copy the newly converted text to the clipboard
                copyToClipboard(`output-${typeId}`);
            }
        }

        // Function to copy text from an element ID
        function copyToClipboard(elementId) {
            const target = document.getElementById(elementId);
            
            // Create a temporary textarea to hold the text to be copied
            const tempInput = document.createElement('textarea');
            tempInput.value = target.textContent;
            document.body.appendChild(tempInput);
            
            // Select and copy the text
            tempInput.select();
            
            try {
                // Use document.execCommand('copy') for better compatibility in sandbox/iFrame environments
                document.execCommand('copy');
                showNotification("Copied to clipboard!", 'bg-green-500');
            } catch (err) {
                console.error('Could not copy text: ', err);
                showNotification("Copy failed. Please copy manually.", 'bg-red-500');
            }
            
            document.body.removeChild(tempInput);
        }

        // Custom notification function to replace alert()
        function showNotification(message, bgColor) {
            notification.textContent = message;
            notification.className = `fixed bottom-5 right-5 ${bgColor} text-white py-2 px-4 rounded-lg shadow-xl opacity-100 transition-opacity duration-300`;

            // Remove previous background classes and add the new one
            notification.classList.remove('bg-green-500', 'bg-yellow-500', 'bg-red-500');
            notification.classList.add(bgColor);

            // Hide after 3 seconds
            setTimeout(() => {
                notification.classList.remove('opacity-100');
                notification.classList.add('opacity-0');
            }, 3000);
        }
        
        // Initialize the app when the script loads
        window.onload = initializeOutputArea;
    </script>
</body>
</html>

